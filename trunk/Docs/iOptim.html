<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="content-type"
 content="text/html; charset=ISO-8859-1">
  <title>iFit: optimization methods (iOptim)</title>
</head>
<body>
<h1 style="text-align: center;"><a class="mozTocH1"
 name="mozTocId294096"></a>iFit: iOptim Optimization methods</h1>
<br>
<ol id="mozToc">
<!--mozToc h3 1 h4 2 h3 3 h4 4 h5 5 h6 6-->
  <li><a href="#mozTocId819006">Description of the optimization process
and general syntax</a></li>
  <li><a href="#mozTocId839813">Recommended optimizers</a></li>
  <li><a href="#mozTocId610281">List of optimizer implemented in
iFit/iOptim</a></li>
  <li><a href="#mozTocId882538">Benchmarking Optimization methods</a>
    <ol>
      <li><a href="#mozTocId69972">Swarm and Genetic algorithms</a></li>
      <li><a href="#mozTocId409995">Gradient methods (Newton)</a></li>
      <li><a href="#mozTocId713602">Simplex methods</a></li>
      <li><a href="#mozTocId184231">Other optimizers</a></li>
    </ol>
  </li>
</ol>
<br>
<hr style="width: 100%; height: 2px;">
<div style="text-align: center;">Commands we use in this page: <span
 style="font-style: italic;">fminsearch, </span>and many others<br>
<div style="text-align: left;"><br>
<h3 style="text-align: center;"><a class="mozTocH3"
 name="mozTocId819006"></a>Description of the optimization process and
general syntax</h3>
<br>
The <span style="font-style: italic;">iOptim</span> sub-library
provides a set of <span style="font-weight: bold;">minimization</span>
routines, that is computational methods which attempt to minimize an <span
 style="font-style: italic;">objective</span> function, often referred
as the <span style="font-style: italic;">criteria, </span>by varying
a set of parameters.<br>
<br>
<div style="text-align: center;"><span
 style="font-style: italic; font-weight: bold;">minimizer: </span><span
 style="font-weight: bold;"></span>{ vary vector <span
 style="font-style: italic;">p</span> so that <span
 style="font-style: italic;">objective(p)</span> is minimal }<br>
</div>
<br>
The syntax which all of these optimizers use is the one from the
default Matlab <span style="font-style: italic;">fminsearch</span>
function :<br>
</div>
</div>
<pre style="margin-left: 40px;">&gt;&gt; [parameters,criteria,message,<span
 style="color: rgb(255, 0, 0);">output</span>] = <span
 style="color: rgb(51, 102, 255);">minimizer</span>(objective, guess, <span
 style="color: rgb(255, 0, 0);">options</span>)</pre>
where the <span style="font-style: italic; font-weight: bold;">input</span>
arguments are:<br>
<ol>
  <li><span style="font-style: italic;">objective: </span>the name of
the function to minimize, <span style="font-style: italic;">objective(p)</span>.
This
can be a string or a function handle.<span style="font-style: italic;"><br>
    </span></li>
  <li><span style="font-style: italic;">guess: </span>the starting
parameter set that objective depend on (this is a vector of numerical
values).<br>
  </li>
  <li><span style="font-style: italic;">options: </span>a
configuration structure as obtained from <span
 style="font-style: italic;">optimset</span></li>
</ol>
The <span style="color: rgb(255, 0, 0);">options</span> structure may
contain the following members:<br>
<ul>
  <li><span style="font-style: italic;">options.Display: </span>Level
of display [ <span style="color: rgb(204, 51, 204);">off</span> | <span
 style="color: rgb(204, 51, 204);">iter</span> | <span
 style="color: rgb(204, 51, 204);">notify</span> | <span
 style="color: rgb(204, 51, 204);">final</span> ]. Default is<span
 style="color: rgb(204, 51, 204);"> 'off'</span><br>
  </li>
  <li><span style="font-style: italic;">options.</span><span
 style="font-style: italic;">MaxFunEvals: </span>Maximum number of
function evaluations allowed</li>
  <li><span style="font-style: italic;">options.</span><span
 style="font-style: italic;">MaxIter: </span>Maximum number of
iterations allowed</li>
  <li><span style="font-style: italic;">options.</span><span
 style="font-style: italic;">TolFun: </span>Termination tolerance on
the function value (absolute value or change)<br>
  </li>
  <li><span style="font-style: italic;">options.</span><span
 style="font-style: italic;">TolX: </span>Termination tolerance on
parameter change<br>
  </li>
  <li><span style="font-style: italic;">options.</span><span
 style="font-style: italic;">OutputFcn: </span>Name of an output
function. When set, it is called at each iteration step. You may use<span
 style="color: rgb(204, 51, 204);"> 'fminplot', </span>which is
provided in <span style="font-style: italic;">iOptim.</span><br>
  </li>
  <li><span style="font-style: italic;">options.</span><span
 style="font-style: italic;">FunValCheck: </span>Check for invalid
values, such as NaN or complex</li>
</ul>
The <span style="font-weight: bold; font-style: italic;">output</span>
arguments from the minimizer are as follow:<br>
<ol>
  <li><span style="font-style: italic;">parameters: </span>is the
parameter set which minimizes the objective function<br>
  </li>
  <li><span style="font-style: italic;">criteria: </span>is the
criteria/objective value at the minimum solution</li>
  <li><span style="font-style: italic;">message: </span>is the final
optimization routine state</li>
  <li><span style="font-style: italic; color: rgb(0, 0, 0);">output: </span>is
a
structure
that holds some information gathered during the minimization procedure</li>
</ol>
The last <span style="color: rgb(255, 0, 0);">output</span> argument
has at least the following fields:<br>
<ul>
  <li><span style="font-style: italic;">output.algorithm: </span>Algorithm
used
(char)</li>
  <li><span style="font-style: italic;">output.message: </span>Message
which details the final state of the optimizer (char)<br>
  </li>
  <li><span style="font-style: italic;">output.</span><span
 style="font-style: italic;">funcCount: </span>Number of
function evaluations performed during the minimization (double)</li>
  <li><span style="font-style: italic;">output.</span><span
 style="font-style: italic;">iterations: </span>Number of
iterations performed during the minimization (double)</li>
</ul>
In all cases, the optimizer can handle <span
 style="font-style: italic; font-weight: bold;">constraints, </span>specified
as
a 4th input argument. These are often lower and upper bounds. Refer
to the documentation of each minimizer for more information, and the
documentation about <a href="Fit.html">fitting</a> models onto data
sets.<br>
<br>
<h3><a class="mozTocH4" name="mozTocId839813"></a>Recommended optimizers</h3>
The <span style="font-style: italic;">Table 1</span> below presents a
selection of the 'best' optimization methods. For each of them, we
indicate the typical success ratio, and solving time.<span
 style="font-style: italic; font-weight: bold;"><br>
<br>
</span>
<table style="text-align: left; width: 100%;" border="1" cellpadding="2"
 cellspacing="2">
  <tbody>
    <tr>
      <td
 style="vertical-align: top; font-weight: bold; font-style: italic; color: rgb(51, 102, 255); background-color: rgb(255, 204, 204);">Optimizer<br>
      </td>
      <td
 style="vertical-align: top; background-color: rgb(255, 204, 204);"><span
 style="font-style: italic; font-weight: bold; color: rgb(51, 102, 255);">Description</span><br>
      </td>
      <td
 style="vertical-align: top; font-weight: bold; font-style: italic; color: rgb(51, 102, 255); background-color: rgb(255, 204, 204);">Mean
Success
rate (%)<br>
      </td>
      <td
 style="vertical-align: top; font-weight: bold; font-style: italic; color: rgb(51, 102, 255); background-color: rgb(255, 204, 204);">Mean
execution
time (s)<br>
      </td>
      <td style="vertical-align: top;">Constraints support<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"><span
 style="font-style: italic; font-weight: bold;">fminimfil</span></td>
      <td style="vertical-align: top;">Unconstrained Implicit filtering
coupled with BFGS</td>
      <td style="vertical-align: top;">73.5</td>
      <td style="vertical-align: top;">0.09</td>
      <td style="vertical-align: top;"><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"><span
 style="font-style: italic; font-weight: bold;">fminralg</span></td>
      <td style="vertical-align: top;">Shor r-algorithm</td>
      <td style="vertical-align: top;">61.1</td>
      <td style="vertical-align: top;">0.17</td>
      <td style="vertical-align: top;"><br>
      </td>
    </tr>
    <tr>
      <td
 style="vertical-align: top; font-weight: bold; font-style: italic;">fminpowell</td>
      <td style="vertical-align: top;">Powell Search</td>
      <td style="vertical-align: top;">56.5</td>
      <td style="vertical-align: top;">0.06</td>
      <td style="vertical-align: top;"><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"><span
 style="font-style: italic; font-weight: bold;">fminpso</span></td>
      <td style="vertical-align: top;">Particle Swarm Optimization</td>
      <td style="vertical-align: top;">58.5</td>
      <td style="vertical-align: top;">0.85</td>
      <td style="vertical-align: top;">yes<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"><span
 style="font-style: italic; font-weight: bold;">fminhooke</span></td>
      <td style="vertical-align: top;">Hooke-Jeeves direct search</td>
      <td style="vertical-align: top;">73.2</td>
      <td style="vertical-align: top; color: rgb(255, 0, 0);">1.87</td>
      <td style="vertical-align: top;"><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"><span
 style="font-weight: bold; font-style: italic;">fminswarm</span></td>
      <td style="vertical-align: top;"> Particule
Swarm Optimizer (alt. implementation)<br>
      </td>
      <td style="vertical-align: top;">40.0</td>
      <td style="vertical-align: top;">0.18</td>
      <td style="vertical-align: top;">yes<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"><span
 style="font-weight: bold; font-style: italic;">fmincmaes</span></td>
      <td style="vertical-align: top;">Evolution Strategy with
Covariance Matrix Adaptation</td>
      <td style="vertical-align: top;">48.6</td>
      <td style="vertical-align: top;"><span
 style="color: rgb(255, 0, 0);">2.54</span></td>
      <td style="vertical-align: top;">yes<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"><span style="font-style: italic;">fminsimpsa</span></td>
      <td style="vertical-align: top;">simplex/simulated
annealing</td>
      <td style="vertical-align: top;">36.9</td>
      <td style="vertical-align: top;">0.34</td>
      <td style="vertical-align: top;">yes<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">fminswarmhybrid<br>
      </td>
      <td style="vertical-align: top;">Hybrid Particle Swarm Optimizer <span
 style="font-style: italic;">with <span style="font-weight: bold;">fminimfil</span></span><br>
      </td>
      <td style="vertical-align: top;"><br>
      </td>
      <td style="vertical-align: top;"><br>
      </td>
      <td style="vertical-align: top;"><br>
      </td>
    </tr>
  </tbody>
</table>
<div style="text-align: center;"><span style="font-style: italic;">Table
1:
A selection among the most efficient and fast optimization methods</span><span
 style="font-style: italic; font-weight: bold;"></span><span
 style="font-style: italic;">. The methods that handle constraints on
parameter are indicated in the last column.</span><br>
<span style="font-style: italic; font-weight: bold;"></span></div>
<span style="font-weight: bold;"><br>
</span>All of these optimizers follow the same syntax as the default
Matlab <span style="font-style: italic;">fminsearch</span> optimizer
(which is based upon the simplex method).<span
 style="font-weight: bold;"></span><span
 style="font-style: italic; font-weight: bold;"><br>
</span>
<pre style="margin-left: 40px;">&gt;&gt; [parameters, fval, exitval, output] = <span
 style="color: rgb(51, 102, 255);">fminimfil</span>(function, starting_parameters, options, {constraints})</pre>
where the <span style="font-style: italic;">options</span> and <span
 style="font-style: italic;">output </span>arguments are structures.
Some of these methods support constraints on parameters during the
optimization process.<br>
<br>
The iData <span style="font-style: italic; font-weight: bold;">fits</span>
method is a wrapper to any of the <span style="font-style: italic;">iOptim</span>
optimizers, with a specified fit criteria, and added constraints
handling, even for methods that do not support it natively.<br>
<br>
<h3><a class="mozTocH4" name="mozTocId610281"></a>List of optimizer
implemented in iFit/iOptim</h3>
We have performed extended tests of all the optimizers that are given
in the iOptim sub-library. For each optimizer, we have minimized a set
of functions, which include sharp, broad, noisy, with local minima,
etc... models.<br>
<ul>
  <li>Each of the 52 model functions to minimize can be solved with up
to <span style="font-style: italic;">d</span>=64 parameters.</li>
  <li>Each of the 21 optimizers has solved all the function, with <span
 style="font-style: italic;">d</span>=1-64 parameters.</li>
  <li>Each of these tests has been repeated 10-50 times with a random
set of starting parameters.</li>
</ul>
This makes about 320000 optimizations... We then present a list of
these optimizers, with their mean solving efficiency and execution
time. This provides a quantitative measurement of optimizers, which
help in choosing good methods, and put aside bad ones. More detailed
results are shown in the plot above.<br>
<p style="margin-bottom: 0cm;"><br>
</p>
<table style="width: 100%;" border="1" cellpadding="1" cellspacing="1">
  <col width="113"> <col width="291"> <col width="97"> <col
 width="104"> <col width="230"> <tbody>
    <tr>
      <td bgcolor="#ffcccc" width="113">
      <p align="CENTER"><font color="#3366ff"><i><b>Name</b></i></font></p>
      </td>
      <td bgcolor="#ffcccc" width="291">
      <p align="CENTER"><font color="#3366ff"><i><b>Description</b></i></font></p>
      </td>
      <td bgcolor="#ffcccc" width="97">
      <p align="CENTER"><font color="#3366ff"><i><b>Overall efficiency
[%]</b></i></font></p>
      </td>
      <td style="width: 104px; background-color: rgb(255, 204, 204);">
      <p><font color="#3366ff"><i><b>Mean execution time [s]</b></i></font></p>
      </td>
      <td bgcolor="#ffcccc" width="230">
      <p align="CENTER"><font color="#3366ff"><i><b>Comments</b></i></font></p>
      </td>
    </tr>
    <tr>
      <td width="113">
      <p align="CENTER"><font color="#009900">fminsimpsa</font></p>
      </td>
      <td width="291">
      <p align="CENTER"><font color="#009900">simplex/simulated
annealing</font></p>
      </td>
      <td width="97">
      <p align="CENTER"><font color="#009900">36.9</font></p>
      </td>
      <td width="104">
      <p><font color="#009900">0.35</font></p>
      </td>
      <td width="230">
      <p align="CENTER">good for d&lt;10, <font color="#ff0000">slow</font>.


      <font color="#3366ff">Supports parameter constraints</font>. </p>
      </td>
    </tr>
    <tr>
      <td width="113">
      <p align="CENTER">fminmulti</p>
      </td>
      <td width="291">
      <p align="CENTER">Multidirectional search</p>
      </td>
      <td width="97">
      <p align="CENTER">35.0</p>
      </td>
      <td width="104">
      <p><font color="#ff0000">10</font></p>
      </td>
      <td width="230">
      <p align="CENTER"><font color="#ff0000">gets very slow for large <i>d</i><font
 color="#3366ff">. Supports parameter constraints</font>.</font></p>
      </td>
    </tr>
    <tr>
      <td width="113">
      <p align="CENTER">fminsearchOS</p>
      </td>
      <td width="291">
      <p align="CENTER">Nelder-Mead simplex</p>
      </td>
      <td width="97">
      <p align="CENTER">32.3</p>
      </td>
      <td width="104">
      <p>0.11</p>
      </td>
      <td width="230">
      <p align="CENTER">&nbsp;</p>
      </td>
    </tr>
    <tr>
      <td width="113">
      <p align="CENTER">fminsearch</p>
      </td>
      <td width="291">
      <p align="CENTER">Nelder-Mead simplex (Matlab)</p>
      </td>
      <td width="97">
      <p align="CENTER">29.8</p>
      </td>
      <td width="104">
      <p>0.18</p>
      </td>
      <td width="230">
      <p align="CENTER">&nbsp;</p>
      </td>
    </tr>
    <tr>
      <td width="113">
      <p align="CENTER"><font color="#009900"><b>fminimfil</b></font></p>
      </td>
      <td width="291">
      <p align="CENTER"><font color="#009900"><b>Unconstrained Implicit
filtering coupled with BFGS</b></font></p>
      </td>
      <td width="97">
      <p align="CENTER"><font color="#009900"><b>73.5</b></font></p>
      </td>
      <td width="104">
      <p><font color="#009900"><b>0.09</b></font></p>
      </td>
      <td width="230">
      <p align="CENTER">very fast, success &gt; 75 % for <i>d &lt;= 24</i>,

success
&gt; 50% for <i>d&lt;= 64</i></p>
      </td>
    </tr>
    <tr>
      <td width="113">
      <p align="CENTER"><font color="#009900"><b>fminralg</b></font></p>
      </td>
      <td width="291">
      <p align="CENTER"><font color="#009900"><b>Shor r-algorithm</b></font></p>
      </td>
      <td width="97">
      <p align="CENTER"><font color="#009900"><b>61.1</b></font></p>
      </td>
      <td width="104">
      <p><font color="#009900"><b>0.17</b></font></p>
      </td>
      <td width="230">
      <p align="CENTER">fast, success &gt;60% for <i>2&lt;=d&lt;=32,</i>
success &gt;50% for <i>d&lt;=64</i></p>
      </td>
    </tr>
    <tr>
      <td width="113">
      <p align="CENTER">fminnewton</p>
      </td>
      <td width="291">
      <p align="CENTER">Steihaug Newton-CG-Trust</p>
      </td>
      <td width="97">
      <p align="CENTER"><font color="#009900">47.3</font></p>
      </td>
      <td width="104">
      <p><font color="#ff0000">23.91</font></p>
      </td>
      <td width="230">
      <p align="CENTER">&nbsp;</p>
      </td>
    </tr>
    <tr>
      <td width="113">
      <p align="CENTER">fmingradrand</p>
      </td>
      <td width="291">
      <p align="CENTER">Random Gradient</p>
      </td>
      <td width="97">
      <p align="CENTER">40.1</p>
      </td>
      <td width="104">
      <p>0.08</p>
      </td>
      <td width="230">
      <p align="CENTER">&nbsp;</p>
      </td>
    </tr>
    <tr>
      <td width="113">
      <p align="CENTER">fminbfgs</p>
      </td>
      <td width="291">
      <p align="CENTER">Broyden-Fletcher-Goldfarb-Shanno</p>
      </td>
      <td width="97">
      <p align="CENTER">&nbsp;35.1</p>
      </td>
      <td width="104">
      <p><font color="#ff0000">6.38</font></p>
      </td>
      <td width="230">
      <p align="CENTER">&nbsp;</p>
      </td>
    </tr>
    <tr>
      <td width="113">
      <p align="CENTER">fminlm</p>
      </td>
      <td width="291">
      <p align="CENTER">Levenberg-Maquardt</p>
      </td>
      <td width="97">
      <p align="CENTER">2<br>
      </p>
      </td>
      <td width="104">
      <p>n.a<br>
      </p>
      </td>
      <td width="230">
      <p align="CENTER"><span style="color: rgb(255, 0, 0);">very bad</span><br>
      </p>
      </td>
    </tr>
    <tr>
      <td width="113">
      <p align="CENTER"><font color="#009900"><b>fminpso</b></font></p>
      </td>
      <td width="291">
      <p align="CENTER"><font color="#009900"><b>Particle Swarm
Optimization</b></font></p>
      </td>
      <td width="97">
      <p align="CENTER"><font color="#009900"><b>58.5</b></font></p>
      </td>
      <td width="104">
      <p><font color="#009900"><b>0.85</b></font></p>
      </td>
      <td width="230">
      <p align="CENTER">best success ratio &gt;90 % for <i>d&lt;=6. </i><font
 color="#3366ff">Supports parameter constraints</font>.</p>
      </td>
    </tr>
    <tr>
      <td width="113">
      <p align="CENTER"><font color="#009900"><b>fmincmaes</b></font></p>
      </td>
      <td width="291">
      <p align="CENTER"><font color="#009900"><b>Evolution Strategy
with Covariance Matrix Adaptation</b></font></p>
      </td>
      <td width="97">
      <p align="CENTER"><font color="#009900"><b>48.6</b></font></p>
      </td>
      <td width="104">
      <p><font color="#ff0000">2.54</font></p>
      </td>
      <td width="230">
      <p align="CENTER">rather <font color="#ff0000">slow. </font><font
 color="#3366ff">Supports parameter constraints</font>.</p>
      </td>
    </tr>
    <tr>
      <td width="113">
      <p align="CENTER">fminsce</p>
      </td>
      <td width="291">
      <p align="CENTER">Shuffled Complex Evolution</p>
      </td>
      <td width="97">
      <p align="CENTER"><font color="#009900">47.1</font></p>
      </td>
      <td width="104">
      <p>1.69</p>
      </td>
      <td width="230">
      <p align="CENTER"><font color="#3366ff">Supports parameter
constraints</font>. </p>
      </td>
    </tr>
    <tr>
      <td width="113">
      <p align="CENTER"><font color="#009900">fminswarm</font></p>
      </td>
      <td width="291">
      <p align="CENTER"><font color="#009900">Particule Swarm Optimizer</font></p>
      </td>
      <td width="97">
      <p align="CENTER"><font color="#009900">40.0</font></p>
      </td>
      <td width="104">
      <p><font color="#009900">0.18</font></p>
      </td>
      <td width="230">
      <p align="CENTER"><font color="#3366ff">Supports parameter
constraints</font>.</p>
      </td>
    </tr>
    <tr>
      <td width="113">
      <p align="CENTER">fminga</p>
      </td>
      <td width="291">
      <p align="CENTER">Genetic Algorithm (real coding)</p>
      </td>
      <td width="97">
      <p align="CENTER">35.2</p>
      </td>
      <td width="104">
      <p>0.93</p>
      </td>
      <td width="230">
      <p align="CENTER"><font color="#3366ff">Supports parameter
constraints</font>. </p>
      </td>
    </tr>
    <tr>
      <td width="113">
      <p align="CENTER">fminswarmhybrid</p>
      </td>
      <td width="291">
      <p align="CENTER">Hybrid Particule Swarm Optimizer</p>
      </td>
      <td width="97">
      <p align="CENTER">27.8</p>
      </td>
      <td width="104">
      <p><font color="#ff0000">1.32</font></p>
      </td>
      <td width="230">
      <p align="CENTER">&nbsp;<font color="#3366ff">Supports parameter
constraints</font>.</p>
      </td>
    </tr>
    <tr>
      <td width="113">
      <p align="CENTER"><font color="#009900"><b>fminhooke</b></font></p>
      </td>
      <td width="291">
      <p align="CENTER"><font color="#009900"><b>Hooke-Jeeves direct
search</b></font></p>
      </td>
      <td width="97">
      <p align="CENTER"><font color="#009900"><b>73.2</b></font></p>
      </td>
      <td width="104">
      <p><font color="#009900"><b>1.87</b></font></p>
      </td>
      <td width="230">
      <p align="CENTER">very high success rate &gt;65 % for <i>d&lt;=64</i>
but gets very <font color="#ff0000">slow</font> for large <i>d</i></p>
      </td>
    </tr>
    <tr>
      <td width="113">
      <p align="CENTER"><font color="#009900"><b>fminpowell</b></font></p>
      </td>
      <td width="291">
      <p align="CENTER"><font color="#009900"><b>Powell Search</b></font></p>
      </td>
      <td width="97">
      <p align="CENTER"><font color="#009900"><b>56.5</b></font></p>
      </td>
      <td width="104">
      <p><font color="#009900"><b>0.06</b></font></p>
      </td>
      <td width="230">
      <p align="CENTER">very fast, success &gt;60 % for <i>d&gt;=8, </i>success
&gt;45%
for <i>d&lt;=64</i></p>
      </td>
    </tr>
    <tr>
      <td width="113">
      <p align="CENTER">fminrand</p>
      </td>
      <td width="291">
      <p align="CENTER">Adaptive Random Search</p>
      </td>
      <td width="97">
      <p align="CENTER">32</p>
      </td>
      <td width="104">
      <p><font color="#ff0000">10</font></p>
      </td>
      <td width="230">
      <p align="CENTER"><font color="#ff0000">gets very slow for large <i>d</i></font></p>
      </td>
    </tr>
    <tr>
      <td width="113">
      <p align="CENTER">fminanneal</p>
      </td>
      <td width="291">
      <p align="CENTER">Simulated Annealing</p>
      </td>
      <td width="97">
      <p align="CENTER">31.9</p>
      </td>
      <td width="104">
      <p>0.32</p>
      </td>
      <td width="230">
      <p align="CENTER">&nbsp;</p>
      </td>
    </tr>
    <tr>
      <td width="113">
      <p align="CENTER">fminkalman</p>
      </td>
      <td width="291">
      <p align="CENTER">unscented Kalman filter optimizer</p>
      </td>
      <td width="97">
      <p align="CENTER">26.5</p>
      </td>
      <td width="104">
      <p>0.11</p>
      </td>
      <td width="230">
      <p align="CENTER">&nbsp;</p>
      </td>
    </tr>
  </tbody>
</table>
<p style="margin-bottom: 0cm;" align="CENTER"><i>Table 2: Optimization
methods in iFit/iOptim, with mean success ratio in the
dimensionality range d=1-64. Bold values indicate recommended
algorithms. Default parameters from Matlab implementations are used,
and MaxFun=2500*d, MaxIter=250*d, TolFun=1e-4. </i><font
 color="#009900"><i>Best</i></font>
<i>optimizers are highlighted in green.</i></p>
<br>
<br>
<h3 style="text-align: center;"><a class="mozTocH3"
 name="mozTocId882538"></a>Benchmarking Optimization methods</h3>
Most of the optimizers given with <span style="font-style: italic;">iOptim</span>
have been gathered from the open-source community. In a few cases, the
same mathematical method has been implemented as a number of equivalent
methods, but with different overall efficiency. This means that there
is no unique way to code an optimization algorithm. We do not provide
any guaranty regarding the effectiveness of the optimizers, but we may
statistically compare them.<br>
<br>
<h4><a class="mozTocH4" name="mozTocId69972"></a>Swarm and Genetic
algorithms</h4>
<div style="text-align: center;"><a href="images/gaswarm.png"><img
 alt="iOptim: Genetic Algo and Swarms"
 title="iOptim: Genetic Algo and Swarms" src="images/gaswarm.png"
 style="border: 0px solid ; width: 580px; height: 440px;"></a><br>
<span style="font-style: italic;">Figure 1: Mean efficiency and solving
time for swarm and genetic algorithm methods, as a function of the
number of parameters to optimize.</span><br>
<br>
</div>
The swarm methods (<span style="font-style: italic;">aka </span>particle
swarm
optimizer)
provide
a very good success ratio up to typically 5-10
model parameters. Among these, the <span
 style="font-style: italic; font-weight: bold;">fminpso</span> and <span
 style="font-weight: bold; font-style: italic;">fmincmaes</span> can
deal with up to 20 model parameters with more than 50 % success. The
drawback of all these methods is that they are <span
 style="font-weight: bold;">slow</span>... The fastest of all the swarm
type implementations that we provide is the <span
 style="font-weight: bold; font-style: italic;">fminswarm, </span>which
can
deal
with
up to 8 model parameters with more than 50 % success. The <span
 style="font-style: italic;">fminswarmhybrid</span> was tested with the
<span style="font-style: italic;">options.Hybrid</span>=<span
 style="color: rgb(204, 51, 204);">'fminsearch'</span> which may
explain its poor efficiency. Using <span style="font-style: italic;">options.Hybrid=</span><span
 style="color: rgb(204, 51, 204);">'fminimfil'</span> is certainly
preferable.
<h4><a class="mozTocH4" name="mozTocId409995"></a>Gradient methods
(Newton)</h4>
<div style="text-align: center;"><a href="images/gradient.png"><img
 alt="iOptim: Gradient methods" title="iOptim: Gradient methods"
 src="images/gradient.png"
 style="border: 0px solid ; width: 577px; height: 442px;"></a><br>
<span style="font-style: italic;">Figure 2: Mean efficiency and solving
time for gradient methods, as a function of the
number of parameters to optimize.<br>
<br>
</span>
<div style="text-align: left;">The gradient methods (derived from the
Newton's method) are often considered to be the fastest. The well known
Marquardt-Levenberg is an implementation of an adaptive Newton's method
with a least square criteria (see below). This is true - they are fast
for a reduced number of model parameters.
However they often fail, as the method easily gets trapped into local
minima. They are notoriously inefficient with noisy data. The <span
 style="font-style: italic;">fminnewton</span> optimizer still ensures
about 45% success rate for high dimensionalities, but the corresponding
solving time is simply unreasonable. An additional <span
 style="font-style: italic;">fminlm</span> Maquardt-Levenberg method
exists (not shown on plots), but its implemetation efficiency is
extremely poor. This may be fixed in future releases. <br>
<br>
Among these methods, we provide two improved optimizers <span
 style="font-style: italic; font-weight: bold;">fminimfil</span> and <span
 style="font-style: italic; font-weight: bold;">fminralg</span> which
are both fast and ensure a success ratio higher than 50 % for all type
of models, including noisy ones. The latter is both slightly less
efficient, and slower.<br>
</div>
</div>
<h4><a class="mozTocH4" name="mozTocId713602"></a>Simplex methods</h4>
<div style="text-align: center;"><a href="images/simplex.png"><img
 alt="iOptim: Simplex methods" title="iOptim: Simplex methods"
 src="images/simplex.png"
 style="border: 0px solid ; width: 583px; height: 439px;"></a><br>
<span style="font-style: italic;">Figure 3: Mean efficiency and solving
time for simplex methods, as a function of the
number of parameters to optimize.<br>
<br>
</span>
<div style="text-align: left;">The default optimizer shipped with
Matlab is the <span style="font-style: italic;">fminsearch</span> one,
which
is a pure simplex implementation. It can solce problems with up to 7
parameters, with at least 50 % success. It is slower than the <span
 style="font-style: italic;">fminimfil</span> and <span
 style="font-style: italic;">fminralg, </span>but faster than the <span
 style="font-style: italic;">fminpso</span> and <span
 style="font-style: italic;">fmincmaes.</span><br>
<br>
A better alternative is a mix of a simplex with a simulated annealing
process, implemented as <span
 style="font-style: italic; font-weight: bold;">fminsimpsa. </span>It
can solve problems with up to 10 parameters.<br>
<h4><a class="mozTocH3" name="mozTocId184231"></a>Other optimizers</h4>
&nbsp;<br>
</div>
</div>
<div style="text-align: center;"><a href="images/other.png"><img
 alt="iOptim: Other methods" title="iOptim: Other methods"
 src="images/other.png"
 style="border: 0px solid ; width: 580px; height: 443px;"></a><br>
<span style="font-style: italic;">Figure 4: Mean efficiency and solving
time for other non-conventional methods, as a function of the
number of parameters to optimize.<br>
<br>
</span>
<div style="text-align: left;">The Powell optimizer <span
 style="font-style: italic; font-weight: bold;">fminpowell</span> is a
well known, simple and efficient method. It ensures at least 50 %
success for most problems up to 20 parameters, and is also among the
fastest. The Hooke optimizer <span
 style="font-style: italic; font-weight: bold;">fminhooke</span> is one
of the most efficient methods for all problem dimensionalities.
Unfortunately, it becomes as slow as the swarms when the number of
parameters increases.<br>
<br>
</div>
</div>
<br>
<hr style="width: 100%; height: 2px;">
<div style="text-align: center;">
<div style="text-align: center;"><span style="font-style: italic;">E.
Farhi - iFit/optimization methods - </span><span
 style="font-style: italic;">$Date: 2010-12-02 14:59:32 $ $Revision:
1.2 $</span><span style="font-style: italic;"> </span>- back to <a
 href="index.html">Main iFit Page</a>
</div>
</div>
</body>
</html>
