<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>








  
  
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">


  
  
<title>iFit: Changes and bugs</title>



  </head><body><ifit: changes="" title=""></ifit:>

<h1 style="text-align: center;"><a class="mozTocH1" name="mozTocId294096"></a>iFit: Changes and Bugs<br>
</h1>



<br>


<ol id="mozToc"><!--mozToc h3 1 h4 2 h3 3 h4 4 h5 5 h6 6--><li><a href="#mozTocId919749">Releases and Changes
</a></li><li><a href="#mozTocId855650">Bugs list:</a><ol><li><a href="#mozTocId434193">File path names do not support spaces</a></li><li><a href="#mozTocId482415">Data set maximum size</a></li><li><a href="#mozTocId786389">NetCDF files written by Matlab can not be read by other software (hdfview, ncBrowse)</a></li><li><a href="#mozTocId332568">Convolution brings strange results (Models/fconv)
</a></li><li><a href="#mozTocId473369">Too many warnings displayed</a></li><li><a href="#mozTocId556618">Execution/compilation issue with text files importer (iLoad/iData/load, looktxt)</a></li><li><a href="#mozTocId63182">Limitations in the standalone (binary) package</a></li></ol></li></ol>




<hr style="width: 100%; height: 2px;">
<h3><a class="mozTocH3" name="mozTocId919749"></a>Releases and Changes<br>
</h3>


<span style="font-weight: bold;"></span>
<ul>



  <li><span style="font-weight: bold;">1.2</span>: Support for
reading PLY, STL, OFF geometry files (vertices/faces). Improved import
of text/ascii files containing numerics. Standalone <a href="iFit.html">iFit</a> distributable software. Speed-up by a factor x2.5. New <a href="iFunc.html">iFunc</a> model objects. Improved Optimizers and fitting.<br>
<span style="font-weight: bold;"></span></li>
  <li><span style="font-weight: bold;">1.1.1</span>: Reading of Chalk River <a href="http://www.nrc-cnrc.gc.ca/eng/ibp/cnbc.html">CNBC</a> data files, improved recursive reading of subdirectories and handling of iData arrays. New <a href="Plot.html#mozTocId406394">colormap</a> plotting method. Improvements in the Optimizers/McStas plotting. Speed up by +12% (March 16th, 2012)<br>
<span style="font-weight: bold;"></span></li>

  <li><span style="font-weight: bold;">1.1</span>: new methods (save, diff, <a href="Math.html">hyperbolic functions</a>), fix of the <a href="Optimizers.html">Levenberg-Marquardt optimizer</a>,
improved Error propagation for unary operators, support for <a href="Loaders.html">import</a> of
Analyze MRI (hdr/img) and Crystallographic Binary File (cbf) format,
import post-process for HDF RITA2@PSI files, direct drag-drop data
files using the open{ext} functions with Matlab &gt;= 2010, added many <a href="Models.html">fit models</a> including 2D
functions <span style="font-style: italic;">signal=f(x,y)</span>. Improved speed by e.g. +25% <span style="font-style: italic;">(Feb 14th 2012)</span><br>
<span style="font-weight: bold;"></span></li>
  <li><span style="font-weight: bold;">1.0.4</span>: significant performance improvements (speedup by factor 2-10).<span style="font-style: italic;"> (Oct 24th 2011)</span><br>
<span style="font-weight: bold;"></span></li>

  <li><span style="font-weight: bold;">1.0.3</span>: new fit <a href="Fit.html#mozTocId778987">criteria</a> (others than least-square), <a href="iData.html#mozTocId124075">link</a> as external/distant resources, better INX <a href="Load.html">import</a> <a href="Load.html#mozTocId338301">anchor</a> in file names for selective import, plenty of new <a href="Models.html">fit functions</a>, a few bug fixes (e.g. McStas 2D labels). <span style="font-style: italic;">(Sept 22nd 2011)</span><br>
<span style="font-weight: bold;"></span></li>

  <li><span style="font-weight: bold;">1.0.2</span>: <a href="McStas.html">McStas</a> data files with Parameter member. New <a href="Plot.html#mozTocId734523">waterfall</a> plot stype for 3D data sets (<span style="font-style: italic;">Sept 6th, 2011</span>)<br>
    <span style="font-weight: bold;"></span></li>

  <li><span style="font-weight: bold;">1.0.1:</span>
Added correlation function method, plus a number of minor improvements
(esp. in plot contextual menus), and bug fix for McStas 1D data set
import <span style="font-style: italic;">(August 26th 2011</span>)<br>
<span style="font-weight: bold;"></span></li>
  <li><span style="font-weight: bold;">1.0</span>: First official iFit release <span style="font-style: italic;">(August 16th 2011</span>)<br>
  </li>


  

  
</ul>


<h3><a class="mozTocH3" name="mozTocId855650"></a>Bugs list:</h3>



<div style="margin-left: 40px;">You may test the package integrity by issuing the command:<br>
</div>





<pre style="margin-left: 80px;">&gt;&gt; <span style="color: rgb(51, 102, 255);">ifittest</span></pre>



<div style="margin-left: 40px;">

which will test, in a few minutes, all the examples given in this documentation and report
failures. The test may be aborted by closing the progress bar window.<br>
<br>
Please report bugs to  <a href="mailto:ifit-users@mccode.org">ifit-users@mccode.org</a> or to me <span style="font-weight: bold;">[farhi (at) ill.fr]</span>. You are encouraged to register to the <a href="http://mail.mccode.org/cgi-bin/mailman/listinfo/ifit-users">ifit-users</a> list.<br>
</div>

<h4><a class="mozTocH4" name="mozTocId434193"></a>File path names do not support spaces</h4>

<p>Under Windows systems, file names including spaces, such as in '<span style="font-style: italic;">My Documents</span>'
 may not be supported properly. In this case, move your files and 
directories to another location which does not contain spaces.<br>
</p>



<h4><a class="mozTocH4" name="mozTocId482415"></a>Data set maximum size</h4>

The iFit package may currently handle routinely data sets up to few 100
Mb. Larger data sets can still be loaded, but are restricted by the
disk access and the available memory. Currently, files can be read at
about 8 Mb/s, mainly limited by the hard disk speed. Some binary files
can be imported faster (HDF initial access is nearly immediate, whatever be the
file size).<br>

<h4><a class="mozTocH4" name="mozTocId786389"></a>NetCDF files written by Matlab can not be read by other software (hdfview, ncBrowse)</h4>

It has been reported that the NetCDF 2.0 files written by Matlab &lt; 2010b can not be re-opened with other software (<a href="http://meteora.ucsd.edu/%7Epierce/ncview_home_page.html">ncview</a>, <a href="http://www.hdfgroup.org/hdf-java-html/hdfview">hdfview</a>, <a href="http://www.epic.noaa.gov/java/ncBrowse/">ncBrowse</a>). In such cases, we recommend to rather export in HDF5 format with:<br>

<pre style="margin-left: 40px;">&gt;&gt; <span style="color: rgb(51, 102, 255);">save</span>(object, <span style="color: rgb(204, 51, 204);">'file.hdf5'</span>)</pre>



<h4><a class="mozTocH4" name="mozTocId332568"></a>Convolution brings strange results (Models/fconv)<br>
</h4>


The <span style="font-style: italic;">fconv</span> function (FFT convolution) provided in the <a href="Models.html">Models</a> sub-library requires the two signals sampling not to be too coarse. Axes values too
sparse will lead to inaccurate results. One solution is to re-sample
the signals with more points. For iData objects, this can be
achieved with e.g. the <span style="font-style: italic;">interp(object, 3)</span> to triple the number of points along axes.<br>


<h4><a class="mozTocH4" name="mozTocId473369"></a>Too many warnings displayed</h4>


If the warnings being displayed produce too much output, you may reduce the level of verbosity with:<br>


<pre style="margin-left: 80px;">&gt;&gt; <span style="color: rgb(51, 102, 255);">warning off backtrace	<span style="font-style: italic; color: rgb(0, 0, 0);">% reduce the warning message length</span><br><span style="color: rgb(0, 0, 0);">&gt;&gt; </span>warning off			<span style="color: rgb(0, 0, 0); font-style: italic;">% suppress all warnings (not recommended)</span><br></span></pre>









<h4><a class="mozTocH4" name="mozTocId556618"></a>Execution/compilation issue with text files importer (iLoad/iData/load, looktxt)</h4>



In some cases, the provided
iFit/Loaders/private/looktxt.mex* may fail to execute (wrong
architecture, missing library).



<br>



Under Windows 64bit systems,
you may need the Visual C++ runtime libraries e.g. <i>msvc[mpr]90.dll</i> which
are provided with the Visual C++ installation (see below), to put in the 
Windows system directory.<br>





<br>




In case this is not a problem of library, remove the invalid mex file 
(in <i>iFit/Loaders/private</i>) , and
relaunch the importation process. A brand new MeX file will
automatically be generated, using the system C compiler. <br>


<br>


Most systems provide a default C compiler. <br>


<ul>

<li>Linux systems usually ship with gcc.</li><li>MacOSX systems require to install the Xcode development tools. </li><li>Windows 32 systems may use the LCC compiler shipped with Matlab. </li><li>Windows 64 systems must have Microsoft Visual C++ installed (refer to the <a href="Install.html#mozTocId359173">Install</a> page for the procedure).</li>
</ul>


You may need to select the compiler with the <i>mex -setup</i> command from Matlab.<br>

<div style="margin-left: 40px;">
<br>
</div>




It has been reported that MeX compilation may fail when spaces are part 
of the path name to the iFit location (esp. under Windows systems)/<br>



Move <span style="font-style: italic;">iFit</span> to an other location which does not include spaces in its name (e.g. avoid <span style="font-style: italic;">My Documents</span>) for compilation.<br>

<h4><a class="mozTocH4" name="mozTocId63182"></a>Limitations in the standalone (binary) package</h4>

When running the standalone version (binary), new Matlab functions can <span style="font-weight: bold; font-style: italic;">not</span> be defined, except anonymous functions (inline). You may use iFunc models as a substitute. Also, the <span style="font-style: italic;">doc, web</span> and <span style="font-style: italic;">edit</span> commands are limited, and may not work properly, depending on the system.
<div style="margin-left: 40px;">
<br>
</div>




<hr style="width: 100%; height: 2px;">
<div style="text-align: center;">
<div style="text-align: center;"><span style="font-style: italic;">E.
Farhi - iFit/Changes - </span><span style="font-style: italic;">
$Date: 2012-07-08 17:34:47 $ $Revision: 1.31 $
</span><span style="font-style: italic;"> </span>-
back to <a href="index.html">Main
iFit Page </a><a href="http://www.ill.eu/"><img title="ILL, Grenoble, France &lt;www.ill.eu&gt;" src="images/ILL-web-jpeg.jpg" alt="ILL, Grenoble, France &lt;www.ill.eu&gt;" style="border: 0px solid ; width: 53px; height: 50px;" align="right"></a>
</div>
</div>



</body></html>