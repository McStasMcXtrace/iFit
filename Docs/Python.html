<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="content-type" content="text/html;
      charset=windows-1252">
    <title>iFit: Python interface</title>
  </head>
  <body>
    <h1 style="text-align: center;"><a class="mozTocH1"
        name="mozTocId294096"></a>iFit: Python interface<br>
    </h1>
    <ol id="mozToc">
      <!--mozToc h3 1 h4 2-->
      <li><a href="#mozTocId780492">Requirements: Python/NumPy </a></li>
      <li><a href="#mozTocId638108">Usage</a></li>
      <li><a href="#mozTocId441413">The commands to use</a></li>
    </ol>
    <hr style="width: 100%; height: 2px;">
    <div style="text-align: center;"><span style="font-weight: bold;
        font-style: italic; color: rgb(255, 0, 0);">This feature is
        experimental.</span><br>
    </div>
    <h3><a class="mozTocH3" name="mozTocId780492"></a>Requirements:
      Python/NumPy </h3>
    <blockquote>Install <a href="https://code.google.com/p/pythonxy/">Python(x,y)</a>
      for Windows, <a href="https://docs.continuum.io/anaconda/">Anaconda</a>
      or <a href="https://www.enthought.com/products/canopy">Entought
        Canopy</a> for Windows and MacOSX. Linux flavors provide numpy
      as e.g. RPM and Debian packages.The <a href="http://ipython.org/">IPython</a>
      package is also recommended. Both Python 2 and 3 are supported.<br>
      <br>
      The minimal required packages are:<br>
      <ul>
        <li>python</li>
        <li>numpy</li>
        <li>scipy</li>
      </ul>
      but it is recommended to use the ipython notebook:<br>
      <ul>
        <li>ipython-notebook</li>
      </ul>
      which can all be installed on Ubuntu/Debian systems with:<br>
      <ul>
        <li>sudo apt-get install python-scipy ipython-notebook<br>
        </li>
      </ul>
    </blockquote>
    <h3><a class="mozTocH3" name="mozTocId638108"></a>Usage</h3>
    To use the IPython notebook, launch:<br>
    <ul>
      <li>pyfit</li>
    </ul>
    command from a terminal. A browser will appear with an iPython
    notebook session ready to be used. Remember to execute command
    'cells' possibly in order, by pressing <i><b>Shift-Return</b></i>
    on each. As the string specifier with Matlab is the single quote, we
    recommend to use the double quote string within Python (as in the
    example below).<br>
    <br>
    Alternatively, navigate to the iFit/Applications/Python directory
    and launch manually IPython or Python:
    <blockquote>
      <p>% ipython notebook PyMatlab.ipynb</p>
    </blockquote>
    <p>or<br>
    </p>
    <blockquote>
      <p>% python<br>
      </p>
    </blockquote>
    <p>Then issue the command:<br>
    </p>
    <blockquote>
      <pre>&gt;&gt;&gt; from matlab import Matlab<br>&gt;&gt;&gt; m = Matlab()<br>&gt;&gt;&gt; m.eval("addpath(genpath('../..'))")<br></pre>
      or, when using the standalone version:<br>
      <pre>&gt;&gt;&gt; from matlab import Matlab<br>&gt;&gt;&gt; m = Matlab('ifit')<br></pre>
    </blockquote>
    <p>From there on, any iFit and Matlab expression can be executed
      from Python.<br>
    </p>
    <blockquote>
      <pre>&gt;&gt;&gt; m.eval(<b>"a=iData('filename')"</b>)		# to import a data file<br>&gt;&gt;&gt; m.eval(<b>"a=iData(peaks)"</b>)		# as an example<br>&gt;&gt;&gt; m.eval(<b>"plot(a)"</b>)				# generate a Matlab plot<br>&gt;&gt;&gt; m.eval(<b>"b = a/2"</b>)<br>&gt;&gt;&gt; b=m.get(<b>"b.Signal"</b>)				# get the signal as a Numpy Array<br>&gt;&gt;&gt; ax = m.get(<b>"getaxis(b, 1:ndims(b))"</b>)	# get all axes values, here 'x' and 'y' axes.<br></pre>
    </blockquote>
    The main idea is that any call to iFit/Matlab should be prepended
    with '<b>m.</b>' and use the set/get/eval methods.<br>
    <br>
    iFit objects are stored as Python NumPy arrays. Refer to the <a
      href="Methods.html">Methods</a> page to learn about all methods
    that can be called for <a href="iData.html">iData</a> and <a
      href="iFunc.html">iFunc</a> objects.<br>
    <br>
    <h3><a class="mozTocH3" name="mozTocId441413"></a>The commands to
      use</h3>
    In addition, there are specialized methods to communicate with
    iFit/Matlab:<br>
    <b>m.set('name', value) </b><br>
    <blockquote>assigns name=value in the iFit/Matlab workspace.<br>
    </blockquote>
    <b>m.get('name') </b><br>
    <blockquote>retrieves the named variable from the iFit/Matlab
      workspace.<br>
    </blockquote>
    <b>m.eval("expression") </b><br>
    <blockquote>evaluates the expression/code in the iFit/Matlab
      workspace. The expression can contain control statements.<br>
    </blockquote>
    <br>
    <hr style="width: 100%; height: 2px;">
    <div style="text-align: center;"><span style="font-style: italic;">E.
Farhi





        - iFit Python - </span><span style="font-style: italic;">
        $Date$ $Revision$ </span><span style="font-style: italic;"> </span>-
      back to <a href="index.html">Main iFit Page </a><a
        href="http://www.ill.eu/"><img title="ILL, Grenoble, France
          &lt;www.ill.eu&gt;" src="images/ILL-web-jpeg.jpg" alt="ILL,
          Grenoble, France &lt;www.ill.eu&gt;" style="border: 0px solid
          ; width: 53px; height: 50px;" align="right"></a> </div>
  </body>
</html>
